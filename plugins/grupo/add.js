// plugins/admin/add.js
// Invitar miembros al grupo

let handler = async (m, { conn, args, isAdmin, isBotAdmin }) => {
  if (!m.isGroup) {
    return conn.sendMessage(m.chat, {
      text: `> . ï¹¡ ï¹Ÿ âš ï¸ ×„ â¬­ *Â¡á´€á´›á´‡É´á´„Éªá´ÌÉ´!*

*ã…¤ê¨¶ã€†â¾ ã…¤×„ã…¤â¸¼ã…¤×„ *ÍœğŸš«* ã…¤Ö¢ã…¤â¸±ã…¤á¯­Ö´*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *á´‡Ê€Ê€á´Ê€* :: ${global.msj?.soloGrupo || 'ğŸ‘¥ Solo en grupos'}`
    }, { quoted: m })
  }

  if (!isAdmin) {
    return conn.sendMessage(m.chat, {
      text: `> . ï¹¡ ï¹Ÿ âš ï¸ ×„ â¬­ *Â¡á´€á´›á´‡É´á´„Éªá´ÌÉ´!*

*ã…¤ê¨¶ã€†â¾ ã…¤×„ã…¤â¸¼ã…¤×„ *ÍœğŸ›¡ï¸* ã…¤Ö¢ã…¤â¸±ã…¤á¯­Ö´*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *á´˜á´‡Ê€á´Éªsá´* :: ${global.msj?.sinPermisos || 'ğŸš« No tienes permisos'}`
    }, { quoted: m })
  }

  if (!isBotAdmin) {
    return conn.sendMessage(m.chat, {
      text: `> . ï¹¡ ï¹Ÿ âš ï¸ ×„ â¬­ *Â¡á´€á´›á´‡É´á´„Éªá´ÌÉ´!*

*ã…¤ê¨¶ã€†â¾ ã…¤×„ã…¤â¸¼ã…¤×„ *ÍœğŸ¤–* ã…¤Ö¢ã…¤â¸±ã…¤á¯­Ö´*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *Ê™á´á´›* :: É´á´‡á´„á´‡sÉªá´›á´ sá´‡Ê€ á´€á´…á´ÉªÉ´Éªsá´›Ê€á´€á´…á´Ê€`
    }, { quoted: m })
  }

  if (!args[0]) {
    return conn.sendMessage(m.chat, {
      text: `> . ï¹¡ ï¹Ÿ ğŸ“¥ ×„ â¬­ *Â¡á´€É¢Ê€á´‡É¢á´€Ê€ á´Éªá´‡á´Ê™Ê€á´!*

*ã…¤ê¨¶ã€†â¾ ã…¤×„ã…¤â¸¼ã…¤×„ *ÍœğŸ“‹* ã…¤Ö¢ã…¤â¸±ã…¤á¯­Ö´*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *á´œsá´* :: *.add <nÃºmero>*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *á´‡á´Šá´‡á´á´˜ÊŸá´* :: *.add 521234567890*

> ## \`É´á´á´›á´€ âš”ï¸\`
> á´…á´‡Ê™á´‡s ÉªÉ´É¢Ê€á´‡sá´€Ê€ á´‡ÊŸ É´á´œÌá´á´‡Ê€á´ á´„á´É´ á´„á´Ìá´…ÉªÉ¢á´ á´…á´‡ á´˜á´€ÉªÌs`
    }, { quoted: m })
  }

  let number = args[0].replace(/\D/g, '')
  if (!number) {
    return conn.sendMessage(m.chat, {
      text: `> . ï¹¡ ï¹Ÿ âŒ ×„ â¬­ *Â¡á´‡Ê€Ê€á´Ê€!*

*ã…¤ê¨¶ã€†â¾ ã…¤×„ã…¤â¸¼ã…¤×„ *Íœâš ï¸* ã…¤Ö¢ã…¤â¸±ã…¤á¯­Ö´*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *á´…á´‡á´›á´€ÊŸÊŸá´‡* :: É´á´œÌá´á´‡Ê€á´ ÉªÉ´á´ á´€ÌÊŸÉªá´…á´`
    }, { quoted: m })
  }

  let jid = number + '@s.whatsapp.net'

  try {
    await conn.groupParticipantsUpdate(m.chat, [jid], 'add')
    conn.sendMessage(m.chat, {
      text: `> . ï¹¡ ï¹Ÿ âœ… ×„ â¬­ *Â¡á´Éªá´‡á´Ê™Ê€á´ á´€É¢Ê€á´‡É¢á´€á´…á´!*

*ã…¤ê¨¶ã€†â¾ ã…¤×„ã…¤â¸¼ã…¤×„ *ÍœğŸ‘¤* ã…¤Ö¢ã…¤â¸±ã…¤á¯­Ö´*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *É´á´œÌá´á´‡Ê€á´* :: @${number}
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *á´‡sá´›á´€á´…á´* :: ÉªÉ´á´ Éªá´›á´€á´„Éªá´ÌÉ´ á´‡É´á´ Éªá´€á´…á´€ âœ…`,
      mentions: [jid]
    }, { quoted: m })
  } catch (e) {
    conn.sendMessage(m.chat, {
      text: `> . ï¹¡ ï¹Ÿ âŒ ×„ â¬­ *Â¡á´‡Ê€Ê€á´Ê€!*

*ã…¤ê¨¶ã€†â¾ ã…¤×„ã…¤â¸¼ã…¤×„ *Íœâš ï¸* ã…¤Ö¢ã…¤â¸±ã…¤á¯­Ö´*
×…ã…¤ğ“¸ğ“ˆ’ã…¤×„ *á´…á´‡á´›á´€ÊŸÊŸá´‡* :: ${e.message}

> ## \`á´˜á´sÉªÊ™ÊŸá´‡s á´„á´€á´œsá´€s âš”ï¸\`
> â€¢ á´‡ÊŸ É´á´œÌá´á´‡Ê€á´ á´‡sá´›á´€Ì Ê™ÊŸá´Ç«á´œá´‡á´€á´…á´
> â€¢ ÊŸá´€ á´˜Ê€Éªá´ á´€á´„Éªá´…á´€á´… á´…á´‡ÊŸ É¢Ê€á´œá´˜á´ á´‡sá´›á´€Ì Ê€á´‡sá´›Ê€ÉªÉ´É¢Éªá´…á´€
> â€¢ á´‡ÊŸ á´œsá´œá´€Ê€Éªá´ Êá´€ á´‡sá´›á´€Ì á´‡É´ á´‡ÊŸ É¢Ê€á´œá´˜á´`
    }, { quoted: m })
  }
}

handler.help = ['add <nÃºmero>']
handler.tags = ['admin']
handler.command = ['add', 'agregar', 'invitar']

handler.group = true
handler.admin = true
handler.botAdmin = true

export default handler